{% extends "layout.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Employee Nudges</h2>
    <div class="card">
        <div class="card-body">
            {% if nudge.status == 'Pending' and nudge.id != nudge.original_id %}
                <div class="alert alert-warning">This is a regenerated nudge.</div>
            {% endif %}
            <h5 class="card-title">New Goal: {{ nudge.new_goal }}</h5>
            <p class="card-text"><strong>Employee ID:</strong> {{ nudge.employee_id }}</p>
            <p class="card-text"><strong>Nudge:</strong> {{ nudge.nudge }}</p>
            <p class="card-text"><strong>Generated On:</strong> {{ nudge.time }}</p>

            <form action="{{ url_for('view_nudge', nudge_id=nudge.id) }}" method="post">
                <button type="submit" name="action" value="acknowledge" class="btn btn-primary">Acknowledge</button>
                <button type="submit" name="action" value="dismiss" class="btn btn-secondary">Dismiss</button>
            </form>
        </div>
    </div>
</div>
{% endblock content %}
